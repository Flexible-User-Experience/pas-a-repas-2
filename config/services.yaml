# Imports
imports:
    - { resource: 'services/admin.yaml' }

parameters:
    backoffice_title: 'Pas a Rep√†s'
    mailer_base_url: '%env(MAILER_BASE_URL)%'

services:
    _defaults:
        autowire: true
        autoconfigure: true
        bind:
            $mub: '%mailer_base_url%'
            $amd: '%mailer_base_url%'
            $urlBase: '%mailer_base_url%'
    App\:
        resource: '../src/*'
        exclude:  '../src/{DependencyInjection,Entity,Migrations,Tests,Kernel.php}'
    App\Controller\:
        resource: '../src/Controller'
        tags:     ['controller.service_arguments']
    App\Menu\BackendInvoiceMenuBuilder:
        tags:
            - { name: knp_menu.menu_builder, method: createSideMenu, alias: backend_invoice_menu }
    App\Menu\BackendTopNavMenuBuilder:
        tags:
            - { name: knp_menu.menu_builder, method: createTopNavMenu, alias: backend_top_nav_menu }
    app.block.charts:
        class: App\Block\ChartsBlock
        arguments:
            - 'charts_block'
            - '@templating.engine.twig'
            - '@App\Service\ChartsFactoryService'
        tags:
            - { name: sonata.block }
    app.notification:
        class: App\Service\NotificationService
        public: true
    app.event_manager:
        class: App\Manager\EventManager
        public: true
#    app.student_image_rights_pdf_builder:
#        class: App\Pdf\StudentImageRightsBuilderPdf
#        public: true
    app.block.event_calendar:
        class: App\Block\EventCalendarBlock
        arguments:
            - 'event_calendar_block'
            - '@templating.engine.twig'
        tags:
            - { name: sonata.block }
